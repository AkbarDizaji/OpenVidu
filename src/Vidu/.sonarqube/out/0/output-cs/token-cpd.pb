„
-D:\Vidu\src\Vidu\Domain\Session\Connection.cs
	namespace 	
Domain
 
. 
Session 
; 
public 
record 

Connection 
( 
string 
Id  "
," #
string$ *
Type+ /
,/ 0
bool0 4
Record5 ;
); <
;< =º:
*D:\Vidu\src\Vidu\Domain\Session\Session.cs
	namespace 	
Domain
 
. 
Session 
; 
public 
class 
Session 
{ 
public 

string 
Id 
{ 
get 
; 
private #
set$ '
;' (
}) *
public

 

bool

 
	Recording

 
{

 
get

 
;

  
private

! (
set

) ,
;

, -
}

. /
public 

string 
	MediaMode 
{ 
get !
;! "
private# *
set+ .
;. /
}0 1
public 

string 
RecordingMode 
{  !
get" %
;% &
private' .
set/ 2
;2 3
}4 5
public 

string 
ForcedVideoCodec "
{# $
get% (
;( )
private* 1
set2 5
;5 6
}7 8
public 

bool 
AllowTranscoding  
{! "
get# &
;& '
private( /
set0 3
;3 4
}5 6
public 

int 
Duration 
{ 
get 
; 
private &
set' *
;* +
}, -
public 

string 
Reason 
{ 
get 
; 
private  '
set( +
;+ ,
}- .
public 

List 
< 

Connection 
> 
Connections '
{( )
get* -
;- .
private/ 6
set7 :
;: ;
}< =
public 

List 
< 
string 
> 
UserIds 
{  !
get" %
;% &
private' .
set/ 2
;2 3
}4 5
private   
Session   
(   
)   
{!! 
}"" 
public$$ 

Session$$ 
($$ 
string$$ 
id$$ 
,$$ 
bool$$ "
	recording$$# ,
,$$, -
string$$. 4
	mediaMode$$5 >
,$$> ?
string$$@ F
recordingMode$$G T
,$$T U
string$$V \
forcedVideoCodec$$] m
,$$m n
bool%% 
allowTranscoding%% 
)%% 
{&& 
Guard'' 
.'' 
Argument'' 
('' 
('' 
)'' 
=>'' 
id'' 
)''  
.''  !
NotNull''! (
(''( )
)'') *
.''* +
NotEmpty''+ 3
(''3 4
)''4 5
;''5 6
Guard(( 
.(( 
Argument(( 
((( 
((( 
)(( 
=>(( 
	mediaMode(( &
)((& '
.((' (
NotNull((( /
(((/ 0
)((0 1
.((1 2
NotEmpty((2 :
(((: ;
)((; <
;((< =
Guard)) 
.)) 
Argument)) 
()) 
()) 
))) 
=>)) 
recordingMode)) *
)))* +
.))+ ,
NotNull)), 3
())3 4
)))4 5
.))5 6
NotEmpty))6 >
())> ?
)))? @
;))@ A
Guard** 
.** 
Argument** 
(** 
(** 
)** 
=>** 
forcedVideoCodec** -
)**- .
.**. /
NotNull**/ 6
(**6 7
)**7 8
.**8 9
NotEmpty**9 A
(**A B
)**B C
;**C D
Id,, 

=,, 
id,, 
;,, 
	Recording-- 
=-- 
	recording-- 
;-- 
	MediaMode.. 
=.. 
	mediaMode.. 
;.. 
RecordingMode// 
=// 
recordingMode// %
;//% &
ForcedVideoCodec00 
=00 
forcedVideoCodec00 +
;00+ ,
AllowTranscoding11 
=11 
allowTranscoding11 +
;11+ ,
Connections22 
=22 
new22 
List22 
<22 

Connection22 )
>22) *
(22* +
)22+ ,
;22, -
UserIds33 
=33 
new33 
List33 
<33 
string33 !
>33! "
(33" #
)33# $
;33$ %
}44 
public66 

Session66 
AddConnection66  
(66  !
string66! '
connectionId66( 4
,664 5
string666 <
connectionType66= K
,66K L
bool66M Q
connectionRecord66R b
)66b c
{77 
Guard88 
.88 
Argument88 
(88 
(88 
)88 
=>88 
connectionId88 )
)88) *
.88* +
NotNull88+ 2
(882 3
)883 4
.884 5
NotEmpty885 =
(88= >
)88> ?
;88? @
Guard99 
.99 
Argument99 
(99 
(99 
)99 
=>99 
connectionType99 +
)99+ ,
.99, -
NotNull99- 4
(994 5
)995 6
.996 7
NotEmpty997 ?
(99? @
)99@ A
;99A B
var;; 

connection;; 
=;; 
new;; 

Connection;; '
(;;' (
connectionId;;( 4
,;;4 5
connectionType;;6 D
,;;D E
connectionRecord;;F V
);;V W
;;;W X
Connections<< 
.<< 
Add<< 
(<< 

connection<< "
)<<" #
;<<# $
return== 
this== 
;== 
}>> 
public@@ 

Session@@ 
RemoveConnection@@ #
(@@# $

Connection@@$ .

connection@@/ 9
)@@9 :
{AA 
ConnectionsBB 
.BB 
RemoveBB 
(BB 

connectionBB %
)BB% &
;BB& '
returnCC 
thisCC 
;CC 
}DD 
publicFF 

SessionFF 
	AddUserIdFF 
(FF 
stringFF #
userIdFF$ *
)FF* +
{GG 
UserIdsHH 
.HH 
AddHH 
(HH 
userIdHH 
)HH 
;HH 
returnII 
thisII 
;II 
}JJ 
publicLL 

SessionLL 
AddClosedInfoLL  
(LL  !
intLL! $
durationLL% -
,LL- .
stringLL/ 5
reasonLL6 <
)LL< =
{MM 
DurationNN 
=NN 
durationNN 
;NN 
ReasonOO 
=OO 
reasonOO 
;OO 
returnPP 
thisPP 
;PP 
}QQ 
publicSS 

SessionSS 
RemoveUserIdSS 
(SS  
stringSS  &
userIdSS' -
)SS- .
{TT 
UserIdsUU 
.UU 
RemoveUU 
(UU 
userIdUU 
)UU 
;UU 
returnVV 
thisVV 
;VV 
}WW 
}XX 